<link rel="import" href="../../bower_components/polymer-redux/polymer-redux.html">
<script src="../../node_modules/redux/dist/redux.js"></script>

<script>
  /*eslint no-unused-vars: ["error", { "varsIgnorePattern": "^ReduxStore$" }]*/
  // 初始化信息
  const initialState = {
    message: 'test'
  };

  // reducer函数
  const reducer = (state, action) => {

    if (!state) {
      return initialState;
    }

    let newStateData = JSON.parse(JSON.stringify(state));
    switch (action.type) {
      case 'UPDATE_MESSAGE':
        newStateData.message = action.message;
        return newStateData;
      default:
        return initialState;
    }
  };
  // 建立store
  const store = Redux.createStore(reducer);

  // 创建polymer mixin
  const ReduxStore = PolymerRedux(store);

</script>